(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[616],{3118:function(e,s,r){Promise.resolve().then(r.bind(r,4606))},9376:function(e,s,r){"use strict";var n=r(5475);r.o(n,"usePathname")&&r.d(s,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(s,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(s,{useSearchParams:function(){return n.useSearchParams}})},4606:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return d}});var n=r(7437),t=r(2265),l=r(9376),o=r(7648),a=r(9636),i=r(1131);function c(){let e=(0,l.useSearchParams)(),[s,r]=(0,t.useState)("loading"),[c,d]=(0,t.useState)("");return((0,t.useEffect)(()=>{let s=e.get("token");if(!s){r("error"),d("인증 링크가 올바르지 않습니다.");return}(0,a.lm)(s).then(e=>{e.success?(r("success"),d(e.message||"이메일 인증이 완료되었습니다.")):(r("error"),d(e.error||"인증에 실패했습니다."))}).catch(()=>{r("error"),d("인증 처리 중 오류가 발생했습니다.")})},[e]),"loading"===s)?(0,n.jsxs)("div",{className:"min-h-screen flex flex-col bg-white",children:[(0,n.jsxs)("main",{className:"flex-1 flex flex-col items-center justify-center px-4 py-16",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto"}),(0,n.jsx)("p",{className:"mt-4 text-gray-600",children:"이메일 인증을 처리하고 있습니다..."})]}),(0,n.jsx)(i.Z,{})]}):(0,n.jsxs)("div",{className:"min-h-screen flex flex-col bg-white",children:[(0,n.jsxs)("main",{className:"flex-1 w-full max-w-md mx-auto px-4 py-16 flex flex-col items-center justify-center",children:[(0,n.jsxs)("div",{className:"text-center space-y-6",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"success"===s?"이메일 인증이 완료되었습니다":"인증 실패"}),(0,n.jsx)("p",{className:"success"===s?"text-gray-600":"text-red-600",children:c})]}),(0,n.jsx)("div",{className:"mt-10 w-full",children:(0,n.jsx)(o.default,{href:"/login",className:"block w-full text-center py-3 px-4 rounded-md bg-black text-white font-medium hover:bg-gray-800",children:"로그인하기"})})]}),(0,n.jsx)(i.Z,{})]})}function d(){return(0,n.jsx)(t.Suspense,{fallback:(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-white",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}),children:(0,n.jsx)(c,{})})}},1131:function(e,s,r){"use strict";r.d(s,{Z:function(){return t}});var n=r(7437);function t(){return(0,n.jsx)("footer",{className:"mt-8 sm:mt-10 bg-[#F8F8F8]",children:(0,n.jsxs)("div",{className:"mx-auto max-w-[1200px] px-4 sm:px-6 md:px-8 py-10 sm:py-16 md:py-20",children:[(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 md:gap-12",children:[(0,n.jsxs)("div",{className:"md:col-span-1",children:[(0,n.jsx)("h3",{className:"text-xl sm:text-2xl font-black text-gray-800",children:"InDe"}),(0,n.jsx)("p",{className:"mt-4 sm:mt-5 text-[11px] sm:text-[12px] leading-[1.6] text-gray-600 max-w-full md:max-w-[360px]",children:"InDe는 (들어오는) 말씀과 (드러나는) 삶을 연결하는 크리스천 인사이트 플랫폼으로, 정기적인 콘텐츠를 통해 세상의 개념과 정의를 복음으로 조명하고, 매주 듣는 말씀을 일상의 언어와 시각으로 적용할 수 있도록 돕습니다."})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-[12px] font-extrabold text-gray-700",children:"사이트 메뉴"}),(0,n.jsxs)("ul",{className:"mt-4 sm:mt-5 space-y-2 text-[12px] text-gray-600",children:[(0,n.jsx)("li",{children:(0,n.jsx)("a",{href:"/",className:"hover:text-gray-900 transition-colors",children:"HOME"})}),(0,n.jsx)("li",{children:(0,n.jsx)("a",{href:"/terms",className:"hover:text-gray-900 transition-colors",children:"이용약관"})}),(0,n.jsx)("li",{children:(0,n.jsx)("a",{href:"/privacy",className:"hover:text-gray-900 transition-colors",children:"개인정보처리방침"})}),(0,n.jsx)("li",{children:(0,n.jsx)("a",{href:"/notice",className:"hover:text-gray-900 transition-colors",children:"공지사항"})}),(0,n.jsx)("li",{children:(0,n.jsx)("a",{href:"/faq",className:"hover:text-gray-900 transition-colors",children:"FAQ"})}),(0,n.jsx)("li",{children:(0,n.jsx)("a",{href:"/inquiry",className:"hover:text-gray-900 transition-colors",children:"1:1 문의"})})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-[12px] font-extrabold text-gray-700",children:"고객지원"}),(0,n.jsxs)("div",{className:"mt-4 sm:mt-5 flex gap-4 sm:gap-6 text-[12px] font-normal text-gray-700 tracking-wide",children:[(0,n.jsx)("a",{href:"#",className:"hover:text-gray-900 transition-colors","aria-label":"Facebook",children:"Facebook"}),(0,n.jsx)("a",{href:"#",className:"hover:text-gray-900 transition-colors","aria-label":"Instagram",children:"Instagram"}),(0,n.jsx)("a",{href:"#",className:"hover:text-gray-900 transition-colors","aria-label":"YouTube",children:"YouTube"})]})]})]}),(0,n.jsx)("div",{className:"mt-8 sm:mt-12 md:mt-14 border-t border-gray-200"}),(0,n.jsxs)("div",{className:"mt-6 sm:mt-8 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 sm:gap-0",children:[(0,n.jsxs)("div",{className:"space-y-2 text-[12px] sm:text-[14px] text-gray-700",children:[(0,n.jsx)("p",{className:"break-words",children:"사업자등록번호 : 203-87-02097| 통신판매업신고: 000000000000 | 개인정보책임자 : xxxxxxxx"}),(0,n.jsx)("p",{className:"break-words",children:"서울특별시 성동구 광나루로8길 31, 2동 301호(성수동2가, 성수SKV1센터) I 이메일: indemgz@gmail.com | 대표이사 : 조광식"}),(0,n.jsx)("p",{className:"mt-3 sm:mt-4",children:"Copyright ⓒ 2024. InDe All Rights Reserved"})]}),(0,n.jsxs)("div",{className:"flex gap-4 sm:gap-6 text-[12px] sm:text-[14px] font-normal text-gray-700 tracking-wide flex-shrink-0",children:[(0,n.jsx)("span",{children:"FACEBOOK"}),(0,n.jsx)("span",{children:"INSTAGRAM"}),(0,n.jsx)("span",{children:"YOUTUBE"})]})]})]})})}},4453:function(e,s,r){"use strict";r.d(s,{l:function(){return l}});var n=r(3464),t=r(4131);r(257);let l=()=>"https://api.inde.kr",o=n.Z.create({baseURL:l(),headers:{"Content-Type":"application/json"},withCredentials:!0});o.interceptors.request.use(e=>{let s=t.Z.get("accessToken");return s&&e.headers&&(e.headers.Authorization="Bearer ".concat(s)),e},e=>Promise.reject(e)),o.interceptors.response.use(e=>e,async e=>{var s;return(null===(s=e.response)||void 0===s?void 0:s.status)!==401||(t.Z.remove("accessToken"),t.Z.remove("refreshToken"),t.Z.remove("userInfo"),window.location.pathname.includes("/login")||(window.location.href="/login?error=UNAUTHORIZED")),Promise.reject(e)}),s.Z=o},9636:function(e,s,r){"use strict";r.d(s,{$8:function(){return f},A8:function(){return x},Fm:function(){return u},bG:function(){return m},ck:function(){return c},hP:function(){return h},jo:function(){return a},kS:function(){return d},lm:function(){return v},mS:function(){return i},x4:function(){return l},z2:function(){return o}});var n=r(4453),t=r(4131);let l=async e=>{var s,r,t,l,o,a,i,c,d,m,v,x;try{let t=(await n.Z.post("/auth/login/",e)).data,l=null!==(r=null==t?void 0:null===(s=t.IndeAPIResponse)||void 0===s?void 0:s.Result)&&void 0!==r?r:(null==t?void 0:t.access_token)&&(null==t?void 0:t.user)?t:null;if((null==l?void 0:l.access_token)&&(null==l?void 0:l.user))return u(l.access_token,l.refresh_token,l.user),l;if((null==t?void 0:t.IndeAPIResponse)&&"00"!==t.IndeAPIResponse.ErrorCode)throw Error(t.IndeAPIResponse.Message||"로그인에 실패했습니다.");throw Error("응답 형식이 올바르지 않습니다.")}catch(e){throw console.error("로그인 API 오류:",e),Error(null!==(x=null!==(v=null!==(m=null===(o=e.response)||void 0===o?void 0:null===(l=o.data)||void 0===l?void 0:null===(t=l.IndeAPIResponse)||void 0===t?void 0:t.Message)&&void 0!==m?m:null===(i=e.response)||void 0===i?void 0:null===(a=i.data)||void 0===a?void 0:a.error)&&void 0!==v?v:null===(d=e.response)||void 0===d?void 0:null===(c=d.data)||void 0===c?void 0:c.message)&&void 0!==x?x:e instanceof Error?e.message:"로그인에 실패했습니다.")}},o=async e=>{var s,r,t,l,o,a,i,c,d,m,v,x,h,f,p,g,j,y,I;try{let i=(await n.Z.post("/auth/register/",e)).data,c=null!==(l=null!==(t=i&&"IndeAPIResponse"in i&&(null===(s=i.IndeAPIResponse)||void 0===s?void 0:s.Result))&&void 0!==t?t:i&&"object"==typeof i&&"Result"in i?i.Result:null)&&void 0!==l?l:i;if((null==c?void 0:c.success)&&(null==c?void 0:c.email))return{success:!0,message:c.message||"",email:c.email,user:c.user};if((null==c?void 0:c.access_token)&&(null==c?void 0:c.user))return u(c.access_token,c.refresh_token||"",c.user),{success:!0,message:"",email:e.email,user:c.user};let d=null!==(a=null!==(o=i&&"IndeAPIResponse"in i?null===(r=i.IndeAPIResponse)||void 0===r?void 0:r.Message:null)&&void 0!==o?o:i&&"object"==typeof i&&"Message"in i?i.Message:null)&&void 0!==a?a:"응답 형식이 올바르지 않습니다.";throw Error(d)}catch(e){throw console.error("회원가입 API 오류:",e),Error(null!==(I=null!==(y=null!==(j=null!==(g=null===(d=e.response)||void 0===d?void 0:null===(c=d.data)||void 0===c?void 0:null===(i=c.IndeAPIResponse)||void 0===i?void 0:i.Message)&&void 0!==g?g:null===(v=e.response)||void 0===v?void 0:null===(m=v.data)||void 0===m?void 0:m.Message)&&void 0!==j?j:null===(h=e.response)||void 0===h?void 0:null===(x=h.data)||void 0===x?void 0:x.error)&&void 0!==y?y:null===(p=e.response)||void 0===p?void 0:null===(f=p.data)||void 0===f?void 0:f.message)&&void 0!==I?I:e instanceof Error?e.message:"회원가입에 실패했습니다.")}},a=async()=>{try{var e,s,r;let t=(await n.Z.get("/me/")).data,l=null!==(r=null!==(s=null==t?void 0:null===(e=t.IndeAPIResponse)||void 0===e?void 0:e.Result)&&void 0!==s?s:t&&"Result"in t?t.Result:null)&&void 0!==r?r:t;if(!l||"object"!=typeof l)throw Error("사용자 정보를 불러올 수 없습니다.");return l}catch(e){throw console.error("사용자 정보 조회 API 오류:",e),e}},i=async e=>{try{var s,r,l;let o=(await n.Z.put("/profile/complete/",e)).data,a=null!==(l=null!==(r=null==o?void 0:null===(s=o.IndeAPIResponse)||void 0===s?void 0:s.Result)&&void 0!==r?r:o&&"Result"in o?o.Result:null)&&void 0!==l?l:o;return(null==a?void 0:a.user)&&t.Z.set("userInfo",JSON.stringify(a.user),{expires:1,secure:!0,sameSite:"strict",path:"/"}),a}catch(e){throw console.error("프로필 완성 API 오류:",e),e}},c=async e=>i(e),d=async()=>{try{await n.Z.post("/auth/logout/")}catch(e){console.error("로그아웃 API 오류:",e)}finally{t.Z.remove("accessToken"),t.Z.remove("refreshToken"),t.Z.remove("userInfo"),window.location.href="/login"}},u=(e,s,r)=>{let n={expires:1,secure:!0,sameSite:"strict",path:"/"};t.Z.set("accessToken",e,n),t.Z.set("refreshToken",s,{...n,expires:7}),r&&t.Z.set("userInfo",JSON.stringify(r),n)},m=()=>{let e=t.Z.get("userInfo");if(e)try{return JSON.parse(e)}catch(e){}return null},v=async e=>{var s,r,t,l,o,a,i,c,d,u,m,v,x,h;try{let l=(await n.Z.post("/auth/verify-email/",{token:e})).data,o=null!==(t=null!==(r=l&&"IndeAPIResponse"in l?null===(s=l.IndeAPIResponse)||void 0===s?void 0:s.Result:null)&&void 0!==r?r:l&&"object"==typeof l&&"Result"in l?l.Result:null)&&void 0!==t?t:l;if(o&&o.success)return{success:!0,message:o.message};return{success:!1,error:(null==o?void 0:o.error)||"인증에 실패했습니다."}}catch(e){return{success:!1,error:null!==(h=null!==(x=null!==(v=null===(a=e.response)||void 0===a?void 0:null===(o=a.data)||void 0===o?void 0:null===(l=o.IndeAPIResponse)||void 0===l?void 0:l.Message)&&void 0!==v?v:null===(c=e.response)||void 0===c?void 0:null===(i=c.data)||void 0===i?void 0:i.error)&&void 0!==x?x:null===(m=e.response)||void 0===m?void 0:null===(u=m.data)||void 0===u?void 0:null===(d=u.Result)||void 0===d?void 0:d.error)&&void 0!==h?h:"인증 처리 중 오류가 발생했습니다."}}},x=async e=>{try{let s=(await n.Z.post("/auth/resend-verification-email/",{email:e})).data;if(!1!==s.success&&(s.message||s.success))return{success:!0,message:s.message};return{success:!1,error:s.error||"재발송에 실패했습니다."}}catch(e){var s,r;return{success:!1,error:(null===(r=e.response)||void 0===r?void 0:null===(s=r.data)||void 0===s?void 0:s.error)||"재발송 처리 중 오류가 발생했습니다."}}},h=()=>t.Z.get("accessToken"),f=()=>!!t.Z.get("accessToken")}},function(e){e.O(0,[648,825,971,117,744],function(){return e(e.s=3118)}),_N_E=e.O()}]);