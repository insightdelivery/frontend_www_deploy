(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{531:function(e,t,n){Promise.resolve().then(n.t.bind(n,2778,23)),Promise.resolve().then(n.bind(n,8278))},8278:function(e,t,n){"use strict";n.d(t,{default:function(){return h}});var s=n(7437),r=n(2265),a=n(7648),o=n(3145),c=n(9376),i=n(1323),l=n(2489),u=n(6840),d=n(3247);function h(){let e=(0,c.usePathname)(),t=(0,c.useRouter)(),[n,h]=(0,r.useState)(!1),[p,x]=(0,r.useState)(null),[f,m]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=()=>{let e=(0,i.$8)();if(h(e),e){let e=(0,i.bG)();x((null==e?void 0:e.name)||null)}};e();let t=setInterval(e,1e3);return()=>clearInterval(t)},[]);let y=async()=>{confirm("로그아웃 하시겠습니까?")&&await (0,i.kS)()};return"/login"===e||"/register"===e||e.startsWith("/auth/callback")?null:(0,s.jsx)("header",{className:"sticky top-0 z-50 bg-neon-yellow text-black",children:(0,s.jsxs)("div",{className:"mx-auto max-w-[1220px] px-4 md:px-8",children:[(0,s.jsxs)("div",{className:"h-[90px] flex items-center",children:[(0,s.jsxs)("nav",{className:"hidden lg:flex flex-1 items-center gap-10 text-[25px] font-[800]",children:[(0,s.jsx)(a.default,{href:"/",className:"hover:opacity-70 transition-opacity",children:"아티클"}),(0,s.jsx)(a.default,{href:"/",className:"hover:opacity-70 transition-opacity",children:"비디오"}),(0,s.jsx)(a.default,{href:"/",className:"hover:opacity-70 transition-opacity",children:"세미나"})]}),(0,s.jsx)("button",{type:"button",className:"lg:hidden p-2 rounded-md hover:bg-black/10 transition-colors",onClick:()=>m(!f),"aria-label":"메뉴",children:f?(0,s.jsx)(l.Z,{className:"h-6 w-6"}):(0,s.jsx)(u.Z,{className:"h-6 w-6"})}),(0,s.jsx)(a.default,{href:"/",className:"flex items-center select-none mx-auto lg:mx-0",children:(0,s.jsx)(o.default,{src:"/inde_logo.png",alt:"InDe",width:150,height:60,className:"h-30 w-140",priority:!0})}),(0,s.jsxs)("div",{className:"hidden lg:flex flex-1 items-center justify-end gap-6",children:[n?(0,s.jsxs)(s.Fragment,{children:[p&&(0,s.jsxs)("span",{className:"text-[14px] font-medium",children:[p,"님"]}),(0,s.jsx)("button",{type:"button",className:"text-[14px] font-bold hover:opacity-70 transition-opacity",onClick:y,children:"로그아웃"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{type:"button",className:"text-[14px] font-bold hover:opacity-70 transition-opacity",onClick:()=>t.push("/login"),children:"로그인"}),(0,s.jsx)("button",{type:"button",className:"text-[14px] font-bold hover:opacity-70 transition-opacity",onClick:()=>t.push("/register"),children:"회원가입"})]}),(0,s.jsx)("button",{type:"button",className:"p-2 rounded-md hover:bg-black/10 transition-colors","aria-label":"검색",children:(0,s.jsx)(d.Z,{className:"h-[18px] w-[18px]"})})]}),(0,s.jsx)("div",{className:"lg:hidden flex items-center gap-4",children:(0,s.jsx)("button",{type:"button",className:"p-2 rounded-md hover:bg-black/10 transition-colors","aria-label":"검색",children:(0,s.jsx)(d.Z,{className:"h-[18px] w-[18px]"})})})]}),f&&(0,s.jsx)("div",{className:"lg:hidden border-t border-black/10 bg-neon-yellow",children:(0,s.jsxs)("nav",{className:"flex flex-col py-4 px-4 space-y-4",children:[(0,s.jsx)(a.default,{href:"/",className:"text-[25px] font-[800] hover:opacity-70 transition-opacity",onClick:()=>m(!1),children:"아티클"}),(0,s.jsx)(a.default,{href:"/",className:"text-[25px] font-[800] hover:opacity-70 transition-opacity",onClick:()=>m(!1),children:"비디오"}),(0,s.jsx)(a.default,{href:"/",className:"text-[25px] font-[800] hover:opacity-70 transition-opacity",onClick:()=>m(!1),children:"세미나"}),(0,s.jsx)("div",{className:"pt-4 border-t border-black/10 space-y-3",children:n?(0,s.jsxs)(s.Fragment,{children:[p&&(0,s.jsxs)("p",{className:"text-[14px] font-medium text-gray-700",children:[p,"님"]}),(0,s.jsx)("button",{type:"button",className:"block w-full text-left text-[14px] font-bold hover:opacity-70 transition-opacity",onClick:()=>{y(),m(!1)},children:"로그아웃"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{type:"button",className:"block w-full text-left text-[14px] font-bold hover:opacity-70 transition-opacity",onClick:()=>{t.push("/login"),m(!1)},children:"로그인"}),(0,s.jsx)("button",{type:"button",className:"block w-full text-left text-[14px] font-bold hover:opacity-70 transition-opacity",onClick:()=>{t.push("/register"),m(!1)},children:"회원가입"})]})})]})})]})})}},1323:function(e,t,n){"use strict";n.d(t,{mS:function(){return u},jo:function(){return l},bG:function(){return x},$8:function(){return f},x4:function(){return c},kS:function(){return h},z2:function(){return i},ck:function(){return d}});var s=n(3464),r=n(4131),a=n(257);let o=s.Z.create({baseURL:a.env.NEXT_PUBLIC_API_URL||"https://api.inde.kr",headers:{"Content-Type":"application/json"},withCredentials:!0});o.interceptors.request.use(e=>{let t=r.Z.get("accessToken");return t&&e.headers&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),o.interceptors.response.use(e=>e,async e=>{var t;return(null===(t=e.response)||void 0===t?void 0:t.status)!==401||(r.Z.remove("accessToken"),r.Z.remove("refreshToken"),r.Z.remove("userInfo"),window.location.pathname.includes("/login")||(window.location.href="/login?error=UNAUTHORIZED")),Promise.reject(e)});let c=async e=>{try{let t=await o.post("/auth/login/",e);return t.data.access_token&&t.data.refresh_token&&p(t.data.access_token,t.data.refresh_token,t.data.user),t.data}catch(e){throw console.error("로그인 API 오류:",e),e}},i=async e=>{try{return(await o.post("/auth/register/",e)).data}catch(e){throw console.error("회원가입 API 오류:",e),e}},l=async()=>{try{return(await o.get("/me/")).data}catch(e){throw console.error("사용자 정보 조회 API 오류:",e),e}},u=async e=>{try{let t=await o.put("/profile/complete/",e);return t.data.user&&r.Z.set("userInfo",JSON.stringify(t.data.user),{expires:1,secure:!0,sameSite:"strict",path:"/"}),t.data}catch(e){throw console.error("프로필 완성 API 오류:",e),e}},d=async e=>u(e),h=async()=>{try{await o.post("/auth/logout/")}catch(e){console.error("로그아웃 API 오류:",e)}finally{r.Z.remove("accessToken"),r.Z.remove("refreshToken"),r.Z.remove("userInfo"),window.location.href="/login"}},p=(e,t,n)=>{let s={expires:1,secure:!0,sameSite:"strict",path:"/"};r.Z.set("accessToken",e,s),r.Z.set("refreshToken",t,{...s,expires:7}),n&&r.Z.set("userInfo",JSON.stringify(n),s)},x=()=>{let e=r.Z.get("userInfo");if(e)try{return JSON.parse(e)}catch(e){}return null},f=()=>!!r.Z.get("accessToken")},2778:function(){}},function(e){e.O(0,[461,35,532,971,117,744],function(){return e(e.s=531)}),_N_E=e.O()}]);