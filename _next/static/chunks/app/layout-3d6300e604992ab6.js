(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{531:function(e,t,n){Promise.resolve().then(n.t.bind(n,2778,23)),Promise.resolve().then(n.bind(n,8978))},9763:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(2265),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),o=(e,t)=>{let n=(0,r.forwardRef)((n,o)=>{let{color:i="currentColor",size:c=24,strokeWidth:l=2,absoluteStrokeWidth:d,className:u="",children:h,...p}=n;return(0,r.createElement)("svg",{ref:o,...a,width:c,height:c,stroke:i,strokeWidth:d?24*Number(l)/Number(c):l,className:["lucide","lucide-".concat(s(e)),u].join(" "),...p},[...t.map(e=>{let[t,n]=e;return(0,r.createElement)(t,n)}),...Array.isArray(h)?h:[h]])});return n.displayName="".concat(e),n}},8978:function(e,t,n){"use strict";n.d(t,{default:function(){return x}});var r=n(7437),a=n(2265),s=n(7648),o=n(3145),i=n(9376),c=n(1323),l=n(9763);let d=(0,l.Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),u=(0,l.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),h=(0,l.Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),p=(0,l.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);function x(){let e=(0,i.usePathname)(),t=(0,i.useRouter)(),[n,l]=(0,a.useState)(!1),[x,f]=(0,a.useState)(null),[m,y]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=()=>{let e=(0,c.$8)();if(l(e),e){let e=(0,c.bG)();f((null==e?void 0:e.name)||null)}};e();let t=setInterval(e,1e3);return()=>clearInterval(t)},[]);let k=async()=>{confirm("로그아웃 하시겠습니까?")&&await (0,c.kS)()};if("/login"===e||"/register"===e||e.startsWith("/auth/callback"))return null;let b="/"===e,v="/article"===e||e.startsWith("/article/");return(0,r.jsx)("header",{className:"sticky top-0 z-50 bg-neon-yellow text-black",children:(0,r.jsxs)("div",{className:"mx-auto max-w-[1220px] px-4 md:px-8",children:[(0,r.jsxs)("div",{className:"flex items-center ".concat(b?"h-[90px]":"h-[52px] sm:h-[56px]"),children:[(0,r.jsxs)("nav",{className:"hidden lg:flex flex-1 items-center gap-10 ".concat(b?"text-[25px] font-[800]":"text-[14px] font-bold"),children:[!b&&(0,r.jsx)(s.default,{href:"/",className:"p-1.5 rounded-md hover:bg-black/10 transition-colors","aria-label":"메인으로",children:(0,r.jsx)(d,{className:"h-[18px] w-[18px]"})}),(0,r.jsx)(s.default,{href:"/article",className:"hover:opacity-70 transition-opacity ".concat(v?"underline underline-offset-4":""),children:"아티클"}),(0,r.jsx)(s.default,{href:"/video",className:"hover:opacity-70 transition-opacity ".concat("/video"===e?"underline underline-offset-4":""),children:"비디오"}),(0,r.jsx)(s.default,{href:"/seminar",className:"hover:opacity-70 transition-opacity ".concat("/seminar"===e?"underline underline-offset-4":""),children:"세미나"})]}),(0,r.jsx)("button",{type:"button",className:"lg:hidden p-2 rounded-md hover:bg-black/10 transition-colors",onClick:()=>y(!m),"aria-label":"메뉴",children:m?(0,r.jsx)(u,{className:b?"h-6 w-6":"h-5 w-5"}):(0,r.jsx)(h,{className:b?"h-6 w-6":"h-5 w-5"})}),b&&(0,r.jsx)(s.default,{href:"/",className:"flex items-center select-none mx-auto lg:mx-0",children:(0,r.jsx)(o.default,{src:"/inde_logo.png",alt:"InDe",width:150,height:60,className:"h-30 w-140",priority:!0})}),(0,r.jsxs)("div",{className:"hidden lg:flex flex-1 items-center justify-end gap-6 ".concat(b?"":"text-[14px] font-bold"),children:[n?(0,r.jsxs)(r.Fragment,{children:[x&&(0,r.jsxs)("span",{className:b?"text-[14px] font-medium":"text-[13px] font-medium",children:[x,"님"]}),(0,r.jsx)("button",{type:"button",className:"hover:opacity-70 transition-opacity",onClick:k,children:"로그아웃"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{type:"button",className:"hover:opacity-70 transition-opacity",onClick:()=>t.push("/login"),children:"로그인"}),(0,r.jsx)("button",{type:"button",className:"hover:opacity-70 transition-opacity",onClick:()=>t.push("/register"),children:"회원가입"})]}),(0,r.jsx)("button",{type:"button",className:"rounded-md hover:bg-black/10 transition-colors ".concat(b?"p-2":"p-1.5"),"aria-label":"검색",children:(0,r.jsx)(p,{className:b?"h-[18px] w-[18px]":"h-[16px] w-[16px]"})})]}),!b&&(0,r.jsx)("div",{className:"flex-1 lg:hidden","aria-hidden":!0}),(0,r.jsx)("div",{className:"lg:hidden flex items-center gap-4",children:(0,r.jsx)("button",{type:"button",className:"rounded-md hover:bg-black/10 transition-colors p-1.5","aria-label":"검색",children:(0,r.jsx)(p,{className:b?"h-[18px] w-[18px]":"h-[16px] w-[16px]"})})})]}),m&&(0,r.jsx)("div",{className:"lg:hidden border-t border-black/10 bg-neon-yellow",children:(0,r.jsxs)("nav",{className:"flex flex-col py-4 px-4 space-y-4 ".concat(b?"text-[25px] font-[800]":"text-[15px] font-bold"),children:[!b&&(0,r.jsxs)(s.default,{href:"/",className:"flex items-center gap-2 hover:opacity-70 transition-opacity",onClick:()=>y(!1),children:[(0,r.jsx)(d,{className:"h-5 w-5 flex-shrink-0"}),"HOME (메인)"]}),(0,r.jsx)(s.default,{href:"/article",className:"hover:opacity-70 transition-opacity ".concat(v?"underline underline-offset-4":""),onClick:()=>y(!1),children:"아티클"}),(0,r.jsx)(s.default,{href:"/video",className:"hover:opacity-70 transition-opacity ".concat("/video"===e?"underline underline-offset-4":""),onClick:()=>y(!1),children:"비디오"}),(0,r.jsx)(s.default,{href:"/seminar",className:"hover:opacity-70 transition-opacity ".concat("/seminar"===e?"underline underline-offset-4":""),onClick:()=>y(!1),children:"세미나"}),(0,r.jsx)("div",{className:"pt-4 border-t border-black/10 space-y-3",children:n?(0,r.jsxs)(r.Fragment,{children:[x&&(0,r.jsxs)("p",{className:"text-[14px] font-medium text-gray-700",children:[x,"님"]}),(0,r.jsx)("button",{type:"button",className:"block w-full text-left text-[14px] font-bold hover:opacity-70 transition-opacity",onClick:()=>{k(),y(!1)},children:"로그아웃"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{type:"button",className:"block w-full text-left text-[14px] font-bold hover:opacity-70 transition-opacity",onClick:()=>{t.push("/login"),y(!1)},children:"로그인"}),(0,r.jsx)("button",{type:"button",className:"block w-full text-left text-[14px] font-bold hover:opacity-70 transition-opacity",onClick:()=>{t.push("/register"),y(!1)},children:"회원가입"})]})})]})})]})})}},1323:function(e,t,n){"use strict";n.d(t,{mS:function(){return d},jo:function(){return l},bG:function(){return x},$8:function(){return f},x4:function(){return i},kS:function(){return h},z2:function(){return c},ck:function(){return u}});var r=n(3464),a=n(4131),s=n(257);let o=r.Z.create({baseURL:s.env.NEXT_PUBLIC_API_URL||"https://api.inde.kr",headers:{"Content-Type":"application/json"},withCredentials:!0});o.interceptors.request.use(e=>{let t=a.Z.get("accessToken");return t&&e.headers&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),o.interceptors.response.use(e=>e,async e=>{var t;return(null===(t=e.response)||void 0===t?void 0:t.status)!==401||(a.Z.remove("accessToken"),a.Z.remove("refreshToken"),a.Z.remove("userInfo"),window.location.pathname.includes("/login")||(window.location.href="/login?error=UNAUTHORIZED")),Promise.reject(e)});let i=async e=>{try{let t=await o.post("/auth/login/",e);return t.data.access_token&&t.data.refresh_token&&p(t.data.access_token,t.data.refresh_token,t.data.user),t.data}catch(e){throw console.error("로그인 API 오류:",e),e}},c=async e=>{try{return(await o.post("/auth/register/",e)).data}catch(e){throw console.error("회원가입 API 오류:",e),e}},l=async()=>{try{return(await o.get("/me/")).data}catch(e){throw console.error("사용자 정보 조회 API 오류:",e),e}},d=async e=>{try{let t=await o.put("/profile/complete/",e);return t.data.user&&a.Z.set("userInfo",JSON.stringify(t.data.user),{expires:1,secure:!0,sameSite:"strict",path:"/"}),t.data}catch(e){throw console.error("프로필 완성 API 오류:",e),e}},u=async e=>d(e),h=async()=>{try{await o.post("/auth/logout/")}catch(e){console.error("로그아웃 API 오류:",e)}finally{a.Z.remove("accessToken"),a.Z.remove("refreshToken"),a.Z.remove("userInfo"),window.location.href="/login"}},p=(e,t,n)=>{let r={expires:1,secure:!0,sameSite:"strict",path:"/"};a.Z.set("accessToken",e,r),a.Z.set("refreshToken",t,{...r,expires:7}),n&&a.Z.set("userInfo",JSON.stringify(n),r)},x=()=>{let e=a.Z.get("userInfo");if(e)try{return JSON.parse(e)}catch(e){}return null},f=()=>!!a.Z.get("accessToken")},2778:function(){}},function(e){e.O(0,[461,35,648,145,971,117,744],function(){return e(e.s=531)}),_N_E=e.O()}]);