(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[543],{6291:function(e,s,n){Promise.resolve().then(n.bind(n,4550))},4550:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return x}});var r=n(7437),t=n(2265),l=n(7648),i=n(9376),o=n(1649),a=n(9820),c=n(2381),u=n(9174),d=n(3804),v=n(9140),m=n(1131);function h(){let e=(0,i.useSearchParams)().get("id"),s=e?Number(e):null,[n,h]=(0,t.useState)([]),[x,p]=(0,t.useState)(!0),[f,g]=(0,t.useState)(null),[y,j]=(0,t.useState)(1),[w,N]=(0,t.useState)(0),[b,I]=(0,t.useState)(0),[k,R]=(0,t.useState)(null),[Z,A]=(0,t.useState)(!1),[P,S]=(0,t.useState)(null);return((0,t.useEffect)(()=>{let e=!1;return p(!0),g(null),(0,o.Di)({page:y,page_size:20}).then(s=>{e||(h(Array.isArray(s.results)?s.results:[]),N("number"==typeof s.count?s.count:0),I(Math.ceil(("number"==typeof s.count?s.count:0)/20)||1))}).catch(s=>{var n;e||g(null!==(n=null==s?void 0:s.message)&&void 0!==n?n:"목록을 불러오지 못했습니다.")}).finally(()=>{e||p(!1)}),()=>{e=!0}},[y]),(0,t.useEffect)(()=>{if(!s||Number.isNaN(s)){R(null),S(null);return}let e=!1;return A(!0),S(null),(0,o.N$)(s).then(s=>{e||R(s)}).catch(s=>{var n;e||S(null!==(n=null==s?void 0:s.message)&&void 0!==n?n:"공지를 불러오지 못했습니다.")}).finally(()=>{e||A(!1)}),()=>{e=!0}},[s]),s&&!Number.isNaN(s))?P?(0,r.jsxs)("main",{className:"min-h-screen bg-white",children:[(0,r.jsxs)("div",{className:"mx-auto max-w-[1220px] px-4 py-12",children:[(0,r.jsx)("div",{className:"rounded-md bg-red-50 p-4 text-red-800",children:P}),(0,r.jsx)(c.z,{variant:"outline",className:"mt-4",asChild:!0,children:(0,r.jsx)(l.default,{href:"/notice",children:"목록으로"})})]}),(0,r.jsx)(m.Z,{})]}):(0,r.jsxs)("main",{className:"min-h-screen bg-white",children:[(0,r.jsxs)("div",{className:"mx-auto max-w-[1220px] px-4 sm:px-6 py-8 sm:py-12",children:[(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsx)(l.default,{href:"/notice",className:"text-sm text-gray-500 hover:text-gray-900",children:"← 공지사항 목록"})}),Z?(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(v.O,{className:"h-8 w-3/4"}),(0,r.jsx)(v.O,{className:"h-4 w-24"}),(0,r.jsx)(v.O,{className:"h-64 w-full"})]}):k?(0,r.jsxs)(a.Zb,{className:"overflow-hidden",children:[(0,r.jsxs)(a.Ol,{className:"space-y-3 pb-4",children:[(0,r.jsx)("h1",{className:"text-xl sm:text-2xl font-bold tracking-tight text-gray-900 leading-tight",children:k.title}),(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,r.jsxs)(u.C,{variant:"secondary",className:"font-normal",children:["조회 ",k.view_count]}),(0,r.jsx)(u.C,{variant:"outline",className:"font-normal text-muted-foreground",children:function(e){try{return new Date(e).toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch(s){return e}}(k.created_at)})]})]}),(0,r.jsx)(a.aY,{className:"border-t border-border pt-6",children:(0,r.jsx)("div",{className:"prose prose-gray max-w-none text-gray-700 whitespace-pre-line break-keep text-[15px] leading-[1.7] prose-p:my-3 first:prose-p:mt-0 last:prose-p:mb-0",dangerouslySetInnerHTML:{__html:k.content}})})]}):null]}),(0,r.jsx)(m.Z,{})]}):(0,r.jsxs)("main",{className:"min-h-screen bg-white",children:[(0,r.jsxs)("div",{className:"mx-auto max-w-[1220px] px-4 sm:px-6 py-8 sm:py-12",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl sm:text-3xl font-black text-gray-900",children:"공지사항"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"InDe 공지사항을 확인하세요."})]}),(0,r.jsx)(a.Zb,{className:"mt-6",children:(0,r.jsxs)(a.aY,{children:[f&&(0,r.jsx)("div",{className:"rounded-md bg-red-50 p-4 text-sm text-red-800",children:f}),x?(0,r.jsx)("div",{className:"space-y-3",children:Array.from({length:5}).map((e,s)=>(0,r.jsx)(v.O,{className:"h-12 w-full"},s))}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(d.iA,{children:[(0,r.jsx)(d.xD,{children:(0,r.jsxs)(d.SC,{children:[(0,r.jsx)(d.ss,{className:"w-[70px] text-center",children:"번호"}),(0,r.jsx)(d.ss,{children:"제목"}),(0,r.jsx)(d.ss,{className:"w-[90px] text-center",children:"조회수"}),(0,r.jsx)(d.ss,{className:"w-[120px] min-w-[120px] text-right whitespace-nowrap",children:"날짜"})]})}),(0,r.jsx)(d.RM,{children:0===(null!=n?n:[]).length?(0,r.jsx)(d.SC,{children:(0,r.jsx)(d.pj,{colSpan:4,className:"text-center text-gray-500 py-8",children:"등록된 공지가 없습니다."})}):(null!=n?n:[]).map((e,s)=>{let n=w-(y-1)*20-s;return(0,r.jsxs)(d.SC,{children:[(0,r.jsx)(d.pj,{className:"text-center text-gray-500",children:n}),(0,r.jsx)(d.pj,{children:(0,r.jsx)(l.default,{href:"/notice?id=".concat(e.id),className:"font-medium text-gray-900 hover:underline",children:e.title})}),(0,r.jsx)(d.pj,{className:"text-center text-gray-500",children:e.view_count}),(0,r.jsx)(d.pj,{className:"text-gray-500 text-sm text-right whitespace-nowrap w-[120px] min-w-[120px]",children:function(e){try{return new Date(e).toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"})}catch(s){return e}}(e.created_at)})]},e.id)})})]}),b>1&&(0,r.jsxs)("div",{className:"mt-4 flex items-center justify-center gap-2",children:[(0,r.jsx)(c.z,{variant:"outline",size:"sm",disabled:y<=1,onClick:()=>j(e=>Math.max(1,e-1)),children:"이전"}),(0,r.jsxs)("span",{className:"text-sm text-gray-600",children:[y," / ",b]}),(0,r.jsx)(c.z,{variant:"outline",size:"sm",disabled:y>=b,onClick:()=>j(e=>e+1),children:"다음"})]})]})]})})]}),(0,r.jsx)(m.Z,{})]})}function x(){return(0,r.jsx)(t.Suspense,{fallback:(0,r.jsx)("main",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,r.jsx)("p",{className:"text-gray-500",children:"로딩 중…"})}),children:(0,r.jsx)(h,{})})}},2381:function(e,s,n){"use strict";n.d(s,{z:function(){return c}});var r=n(7437),t=n(2265),l=n(5293),i=n(535),o=n(3448);let a=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=t.forwardRef((e,s)=>{let{className:n,variant:t,size:i,asChild:c=!1,...u}=e,d=c?l.g7:"button";return(0,r.jsx)(d,{className:(0,o.cn)(a({variant:t,size:i,className:n})),ref:s,...u})});c.displayName="Button"},4453:function(e,s,n){"use strict";n.d(s,{l:function(){return l}});var r=n(3464),t=n(4131);n(257);let l=()=>"https://api.inde.kr",i=r.Z.create({baseURL:l(),headers:{"Content-Type":"application/json"},withCredentials:!0}),o=e=>{if(!e)return!1;let s=e.replace(l(),"").split("?")[0].replace(/^https?:\/\/[^/]+/,"")||e;return/^\/api\/(notices|faqs)(\/|$)/.test(s)};i.interceptors.request.use(e=>{if(o(e.url))return e;let s=t.Z.get("accessToken");return s&&e.headers&&(e.headers.Authorization="Bearer ".concat(s)),e},e=>Promise.reject(e)),i.interceptors.response.use(e=>e,async e=>{var s;return(null===(s=e.response)||void 0===s?void 0:s.status)!==401||(t.Z.remove("accessToken"),t.Z.remove("refreshToken"),t.Z.remove("userInfo"),window.location.pathname.includes("/login")||(window.location.href="/login?error=UNAUTHORIZED")),Promise.reject(e)}),s.Z=i},3448:function(e,s,n){"use strict";n.d(s,{cn:function(){return l}});var r=n(1994),t=n(3335);function l(){for(var e=arguments.length,s=Array(e),n=0;n<e;n++)s[n]=arguments[n];return(0,t.m6)((0,r.W)(s))}},9636:function(e,s,n){"use strict";n.d(s,{$8:function(){return p},A8:function(){return h},Fm:function(){return d},bG:function(){return v},ck:function(){return c},hP:function(){return x},jo:function(){return o},kS:function(){return u},lm:function(){return m},mS:function(){return a},x4:function(){return l},z2:function(){return i}});var r=n(4453),t=n(4131);let l=async e=>{var s,n,t,l,i,o,a,c,u,v,m,h;try{let t=(await r.Z.post("/auth/login/",e)).data,l=null!==(n=null==t?void 0:null===(s=t.IndeAPIResponse)||void 0===s?void 0:s.Result)&&void 0!==n?n:(null==t?void 0:t.access_token)&&(null==t?void 0:t.user)?t:null;if((null==l?void 0:l.access_token)&&(null==l?void 0:l.user))return d(l.access_token,l.refresh_token,l.user),l;if((null==t?void 0:t.IndeAPIResponse)&&"00"!==t.IndeAPIResponse.ErrorCode)throw Error(t.IndeAPIResponse.Message||"로그인에 실패했습니다.");throw Error("응답 형식이 올바르지 않습니다.")}catch(e){throw console.error("로그인 API 오류:",e),Error(null!==(h=null!==(m=null!==(v=null===(i=e.response)||void 0===i?void 0:null===(l=i.data)||void 0===l?void 0:null===(t=l.IndeAPIResponse)||void 0===t?void 0:t.Message)&&void 0!==v?v:null===(a=e.response)||void 0===a?void 0:null===(o=a.data)||void 0===o?void 0:o.error)&&void 0!==m?m:null===(u=e.response)||void 0===u?void 0:null===(c=u.data)||void 0===c?void 0:c.message)&&void 0!==h?h:e instanceof Error?e.message:"로그인에 실패했습니다.")}},i=async e=>{var s,n,t,l,i,o,a,c,u,v,m,h,x,p,f,g,y,j,w;try{let a=(await r.Z.post("/auth/register/",e)).data,c=null!==(l=null!==(t=a&&"IndeAPIResponse"in a&&(null===(s=a.IndeAPIResponse)||void 0===s?void 0:s.Result))&&void 0!==t?t:a&&"object"==typeof a&&"Result"in a?a.Result:null)&&void 0!==l?l:a;if((null==c?void 0:c.success)&&(null==c?void 0:c.email))return{success:!0,message:c.message||"",email:c.email,user:c.user};if((null==c?void 0:c.access_token)&&(null==c?void 0:c.user))return d(c.access_token,c.refresh_token||"",c.user),{success:!0,message:"",email:e.email,user:c.user};let u=null!==(o=null!==(i=a&&"IndeAPIResponse"in a?null===(n=a.IndeAPIResponse)||void 0===n?void 0:n.Message:null)&&void 0!==i?i:a&&"object"==typeof a&&"Message"in a?a.Message:null)&&void 0!==o?o:"응답 형식이 올바르지 않습니다.";throw Error(u)}catch(e){throw console.error("회원가입 API 오류:",e),Error(null!==(w=null!==(j=null!==(y=null!==(g=null===(u=e.response)||void 0===u?void 0:null===(c=u.data)||void 0===c?void 0:null===(a=c.IndeAPIResponse)||void 0===a?void 0:a.Message)&&void 0!==g?g:null===(m=e.response)||void 0===m?void 0:null===(v=m.data)||void 0===v?void 0:v.Message)&&void 0!==y?y:null===(x=e.response)||void 0===x?void 0:null===(h=x.data)||void 0===h?void 0:h.error)&&void 0!==j?j:null===(f=e.response)||void 0===f?void 0:null===(p=f.data)||void 0===p?void 0:p.message)&&void 0!==w?w:e instanceof Error?e.message:"회원가입에 실패했습니다.")}},o=async()=>{try{var e,s,n;let t=(await r.Z.get("/me/")).data,l=null!==(n=null!==(s=null==t?void 0:null===(e=t.IndeAPIResponse)||void 0===e?void 0:e.Result)&&void 0!==s?s:t&&"Result"in t?t.Result:null)&&void 0!==n?n:t;if(!l||"object"!=typeof l)throw Error("사용자 정보를 불러올 수 없습니다.");return l}catch(e){throw console.error("사용자 정보 조회 API 오류:",e),e}},a=async e=>{try{var s,n,l;let i=(await r.Z.put("/profile/complete/",e)).data,o=null!==(l=null!==(n=null==i?void 0:null===(s=i.IndeAPIResponse)||void 0===s?void 0:s.Result)&&void 0!==n?n:i&&"Result"in i?i.Result:null)&&void 0!==l?l:i;return(null==o?void 0:o.user)&&t.Z.set("userInfo",JSON.stringify(o.user),{expires:1,secure:!0,sameSite:"strict",path:"/"}),o}catch(e){throw console.error("프로필 완성 API 오류:",e),e}},c=async e=>a(e),u=async()=>{try{await r.Z.post("/auth/logout/")}catch(e){console.error("로그아웃 API 오류:",e)}finally{t.Z.remove("accessToken"),t.Z.remove("refreshToken"),t.Z.remove("userInfo"),window.location.href="/login"}},d=(e,s,n)=>{let r={expires:1,secure:!0,sameSite:"strict",path:"/"};t.Z.set("accessToken",e,r),t.Z.set("refreshToken",s,{...r,expires:7}),n&&t.Z.set("userInfo",JSON.stringify(n),r)},v=()=>{let e=t.Z.get("userInfo");if(e)try{return JSON.parse(e)}catch(e){}return null},m=async e=>{var s,n,t,l,i,o,a,c,u,d,v,m,h,x;try{let l=(await r.Z.post("/auth/verify-email/",{token:e})).data,i=null!==(t=null!==(n=l&&"IndeAPIResponse"in l?null===(s=l.IndeAPIResponse)||void 0===s?void 0:s.Result:null)&&void 0!==n?n:l&&"object"==typeof l&&"Result"in l?l.Result:null)&&void 0!==t?t:l;if(i&&i.success)return{success:!0,message:i.message};return{success:!1,error:(null==i?void 0:i.error)||"인증에 실패했습니다."}}catch(e){return{success:!1,error:null!==(x=null!==(h=null!==(m=null===(o=e.response)||void 0===o?void 0:null===(i=o.data)||void 0===i?void 0:null===(l=i.IndeAPIResponse)||void 0===l?void 0:l.Message)&&void 0!==m?m:null===(c=e.response)||void 0===c?void 0:null===(a=c.data)||void 0===a?void 0:a.error)&&void 0!==h?h:null===(v=e.response)||void 0===v?void 0:null===(d=v.data)||void 0===d?void 0:null===(u=d.Result)||void 0===u?void 0:u.error)&&void 0!==x?x:"인증 처리 중 오류가 발생했습니다."}}},h=async e=>{try{let s=(await r.Z.post("/auth/resend-verification-email/",{email:e})).data;if(!1!==s.success&&(s.message||s.success))return{success:!0,message:s.message};return{success:!1,error:s.error||"재발송에 실패했습니다."}}catch(e){var s,n;return{success:!1,error:(null===(n=e.response)||void 0===n?void 0:null===(s=n.data)||void 0===s?void 0:s.error)||"재발송 처리 중 오류가 발생했습니다."}}},x=()=>t.Z.get("accessToken"),p=()=>!!t.Z.get("accessToken")}},function(e){e.O(0,[972,825,137,648,971,117,744],function(){return e(e.s=6291)}),_N_E=e.O()}]);