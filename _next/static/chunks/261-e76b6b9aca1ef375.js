"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[261],{2381:function(e,r,n){n.d(r,{z:function(){return a}});var o=n(7437),s=n(2265),t=n(5293),i=n(535),l=n(3448);let u=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),a=s.forwardRef((e,r)=>{let{className:n,variant:s,size:i,asChild:a=!1,...d}=e,c=a?t.g7:"button";return(0,o.jsx)(c,{className:(0,l.cn)(u({variant:s,size:i,className:n})),ref:r,...d})});a.displayName="Button"},6220:function(e,r,n){n.d(r,{_:function(){return c}});var o=n(7437),s=n(2265);n(4887);var t=n(5293),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let n=(0,t.Z8)(`Primitive.${r}`),i=s.forwardRef((e,s)=>{let{asChild:t,...i}=e,l=t?n:r;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,o.jsx)(l,{...i,ref:s})});return i.displayName=`Primitive.${r}`,{...e,[r]:i}},{}),l=s.forwardRef((e,r)=>(0,o.jsx)(i.label,{...e,ref:r,onMouseDown:r=>{var n;r.target.closest("button, input, select, textarea")||(null===(n=e.onMouseDown)||void 0===n||n.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));l.displayName="Label";var u=n(535),a=n(3448);let d=(0,u.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=s.forwardRef((e,r)=>{let{className:n,...s}=e;return(0,o.jsx)(l,{ref:r,className:(0,a.cn)(d(),n),...s})});c.displayName=l.displayName},4453:function(e,r,n){n.d(r,{l:function(){return t}});var o=n(3464),s=n(4131);n(257);let t=()=>"https://api.inde.kr",i=o.Z.create({baseURL:t(),headers:{"Content-Type":"application/json"},withCredentials:!0}),l=e=>{if(!e)return!1;let r=e.replace(t(),"").split("?")[0].replace(/^https?:\/\/[^/]+/,"")||e;return/^\/api\/(notices|faqs)(\/|$)/.test(r)};i.interceptors.request.use(e=>{if(l(e.url))return e;let r=s.Z.get("accessToken");return r&&e.headers&&(e.headers.Authorization="Bearer ".concat(r)),e},e=>Promise.reject(e)),i.interceptors.response.use(e=>e,async e=>{var r;return(null===(r=e.response)||void 0===r?void 0:r.status)!==401||(s.Z.remove("accessToken"),s.Z.remove("refreshToken"),s.Z.remove("userInfo"),window.location.pathname.includes("/login")||(window.location.href="/login?error=UNAUTHORIZED")),Promise.reject(e)}),r.Z=i},3448:function(e,r,n){n.d(r,{cn:function(){return t}});var o=n(1994),s=n(3335);function t(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return(0,s.m6)((0,o.W)(r))}},9636:function(e,r,n){n.d(r,{$8:function(){return g},A8:function(){return p},Fm:function(){return c},bG:function(){return v},ck:function(){return a},hP:function(){return m},jo:function(){return l},kS:function(){return d},lm:function(){return f},mS:function(){return u},x4:function(){return t},z2:function(){return i}});var o=n(4453),s=n(4131);let t=async e=>{var r,n,s,t,i,l,u,a,d,v,f,p;try{let s=(await o.Z.post("/auth/login/",e)).data,t=null!==(n=null==s?void 0:null===(r=s.IndeAPIResponse)||void 0===r?void 0:r.Result)&&void 0!==n?n:(null==s?void 0:s.access_token)&&(null==s?void 0:s.user)?s:null;if((null==t?void 0:t.access_token)&&(null==t?void 0:t.user))return c(t.access_token,t.refresh_token,t.user),t;if((null==s?void 0:s.IndeAPIResponse)&&"00"!==s.IndeAPIResponse.ErrorCode)throw Error(s.IndeAPIResponse.Message||"로그인에 실패했습니다.");throw Error("응답 형식이 올바르지 않습니다.")}catch(e){throw console.error("로그인 API 오류:",e),Error(null!==(p=null!==(f=null!==(v=null===(i=e.response)||void 0===i?void 0:null===(t=i.data)||void 0===t?void 0:null===(s=t.IndeAPIResponse)||void 0===s?void 0:s.Message)&&void 0!==v?v:null===(u=e.response)||void 0===u?void 0:null===(l=u.data)||void 0===l?void 0:l.error)&&void 0!==f?f:null===(d=e.response)||void 0===d?void 0:null===(a=d.data)||void 0===a?void 0:a.message)&&void 0!==p?p:e instanceof Error?e.message:"로그인에 실패했습니다.")}},i=async e=>{var r,n,s,t,i,l,u,a,d,v,f,p,m,g,h,y,I,w,b;try{let u=(await o.Z.post("/auth/register/",e)).data,a=null!==(t=null!==(s=u&&"IndeAPIResponse"in u&&(null===(r=u.IndeAPIResponse)||void 0===r?void 0:r.Result))&&void 0!==s?s:u&&"object"==typeof u&&"Result"in u?u.Result:null)&&void 0!==t?t:u;if((null==a?void 0:a.success)&&(null==a?void 0:a.email))return{success:!0,message:a.message||"",email:a.email,user:a.user};if((null==a?void 0:a.access_token)&&(null==a?void 0:a.user))return c(a.access_token,a.refresh_token||"",a.user),{success:!0,message:"",email:e.email,user:a.user};let d=null!==(l=null!==(i=u&&"IndeAPIResponse"in u?null===(n=u.IndeAPIResponse)||void 0===n?void 0:n.Message:null)&&void 0!==i?i:u&&"object"==typeof u&&"Message"in u?u.Message:null)&&void 0!==l?l:"응답 형식이 올바르지 않습니다.";throw Error(d)}catch(e){throw console.error("회원가입 API 오류:",e),Error(null!==(b=null!==(w=null!==(I=null!==(y=null===(d=e.response)||void 0===d?void 0:null===(a=d.data)||void 0===a?void 0:null===(u=a.IndeAPIResponse)||void 0===u?void 0:u.Message)&&void 0!==y?y:null===(f=e.response)||void 0===f?void 0:null===(v=f.data)||void 0===v?void 0:v.Message)&&void 0!==I?I:null===(m=e.response)||void 0===m?void 0:null===(p=m.data)||void 0===p?void 0:p.error)&&void 0!==w?w:null===(h=e.response)||void 0===h?void 0:null===(g=h.data)||void 0===g?void 0:g.message)&&void 0!==b?b:e instanceof Error?e.message:"회원가입에 실패했습니다.")}},l=async()=>{try{var e,r,n;let s=(await o.Z.get("/me/")).data,t=null!==(n=null!==(r=null==s?void 0:null===(e=s.IndeAPIResponse)||void 0===e?void 0:e.Result)&&void 0!==r?r:s&&"Result"in s?s.Result:null)&&void 0!==n?n:s;if(!t||"object"!=typeof t)throw Error("사용자 정보를 불러올 수 없습니다.");return t}catch(e){throw console.error("사용자 정보 조회 API 오류:",e),e}},u=async e=>{try{var r,n,t;let i=(await o.Z.put("/profile/complete/",e)).data,l=null!==(t=null!==(n=null==i?void 0:null===(r=i.IndeAPIResponse)||void 0===r?void 0:r.Result)&&void 0!==n?n:i&&"Result"in i?i.Result:null)&&void 0!==t?t:i;return(null==l?void 0:l.user)&&s.Z.set("userInfo",JSON.stringify(l.user),{expires:1,secure:!0,sameSite:"strict",path:"/"}),l}catch(e){throw console.error("프로필 완성 API 오류:",e),e}},a=async e=>u(e),d=async()=>{try{await o.Z.post("/auth/logout/")}catch(e){console.error("로그아웃 API 오류:",e)}finally{s.Z.remove("accessToken"),s.Z.remove("refreshToken"),s.Z.remove("userInfo"),window.location.href="/login"}},c=(e,r,n)=>{let o={expires:1,secure:!0,sameSite:"strict",path:"/"};s.Z.set("accessToken",e,o),s.Z.set("refreshToken",r,{...o,expires:7}),n&&s.Z.set("userInfo",JSON.stringify(n),o)},v=()=>{let e=s.Z.get("userInfo");if(e)try{return JSON.parse(e)}catch(e){}return null},f=async e=>{var r,n,s,t,i,l,u,a,d,c,v,f,p,m;try{let t=(await o.Z.post("/auth/verify-email/",{token:e})).data,i=null!==(s=null!==(n=t&&"IndeAPIResponse"in t?null===(r=t.IndeAPIResponse)||void 0===r?void 0:r.Result:null)&&void 0!==n?n:t&&"object"==typeof t&&"Result"in t?t.Result:null)&&void 0!==s?s:t;if(i&&i.success)return{success:!0,message:i.message};return{success:!1,error:(null==i?void 0:i.error)||"인증에 실패했습니다."}}catch(e){return{success:!1,error:null!==(m=null!==(p=null!==(f=null===(l=e.response)||void 0===l?void 0:null===(i=l.data)||void 0===i?void 0:null===(t=i.IndeAPIResponse)||void 0===t?void 0:t.Message)&&void 0!==f?f:null===(a=e.response)||void 0===a?void 0:null===(u=a.data)||void 0===u?void 0:u.error)&&void 0!==p?p:null===(v=e.response)||void 0===v?void 0:null===(c=v.data)||void 0===c?void 0:null===(d=c.Result)||void 0===d?void 0:d.error)&&void 0!==m?m:"인증 처리 중 오류가 발생했습니다."}}},p=async e=>{try{let r=(await o.Z.post("/auth/resend-verification-email/",{email:e})).data;if(!1!==r.success&&(r.message||r.success))return{success:!0,message:r.message};return{success:!1,error:r.error||"재발송에 실패했습니다."}}catch(e){var r,n;return{success:!1,error:(null===(n=e.response)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.error)||"재발송 처리 중 오류가 발생했습니다."}}},m=()=>s.Z.get("accessToken"),g=()=>!!s.Z.get("accessToken")}}]);